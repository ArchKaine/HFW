<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Comprehensive design document for the HFW Shadow Fleet, an Anvil Aerospace subsidiary project. Details include genesis, variants, specifications, and operational doctrines." />
    <title>HFW Shadow Fleet - Comprehensive Design Document</title>
    
    <style>
    /* --- Base Styles & Full Viewport Setup --- */
    html, body {
      height: 100%;
      width: 100%; 
      margin: 0;
      padding: 0;
      overflow-y: hidden; 
      overflow-x: auto;   
      font-family: "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;
      background-color: #07090D; 
      color: #f0f0f0;
      box-sizing: border-box;
    }

    *, *::before, *::after {
      box-sizing: inherit;
    }

    .spectre-post-container {
      display: grid !important;
      grid-template-areas:
        "header header header"
        "nav    content aside";
      grid-template-rows: auto 1fr;
      grid-template-columns: 320px 1280px 320px; 
      gap: 0; 
      height: 100vh; 
      
      width: 1920px; 
      margin: 0 auto;    
      
      overflow: hidden; 
      font-size: 18px; 
      line-height: 1.6; 
      background-color: #0b0e13; 
    }

    /* Grid area assignments */
    .spectre-post-container > header { grid-area: header; background-color: #1a1a1a; padding: 1rem 2rem; text-align: center; border-bottom: 1px solid #2a2a2a;}
    .spectre-post-container > nav { grid-area: nav; }
    .spectre-post-container > .container { grid-area: content; }
    .spectre-post-container > .spectre-post-aside { grid-area: aside; }

    /* Header Styling */
    .spectre-post-container header h1 {
      color: #ff4c4c;
      font-family: "Orbitron", sans-serif;
      margin: 0;
      font-size: 2.5rem;
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
    }

    /* Sticky sidebars: nav and aside - Full Height Appearance */
    .spectre-post-container > nav,
    .spectre-post-container > .spectre-post-aside {
      position: sticky;
      top: 0;
      align-self: stretch; 
      height: 100%;     
      background-color: #111;
    }
    .spectre-post-container > .spectre-post-aside {
        border-left: 2px solid #ff4c4c; 
    }

    /* Inner scroll wrappers for nav and aside */
    .nav-scroll-wrapper,
    .aside-scroll-wrapper {
      height: 100%;
      overflow-y: auto;
      padding: 1rem;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
    }

    /* Custom scrollbar styling */
    .nav-scroll-wrapper::-webkit-scrollbar, .aside-scroll-wrapper::-webkit-scrollbar { width: 8px; }
    .nav-scroll-wrapper::-webkit-scrollbar-track, .aside-scroll-wrapper::-webkit-scrollbar-track { background: #1a1a1a; }
    .nav-scroll-wrapper::-webkit-scrollbar-thumb, .aside-scroll-wrapper::-webkit-scrollbar-thumb { background-color: #ff4c4c; border-radius: 4px; border: 1px solid #0b0e13; }
    .nav-scroll-wrapper, .aside-scroll-wrapper { scrollbar-width: thin; scrollbar-color: #ff4c4c #1a1a1a; }

    /* Nav Logo */
    .spectre-post-container > nav .nav-scroll-wrapper .nav-logo { padding: 0.5rem 1rem; text-align: center; flex-shrink: 0; }
    .spectre-post-container > nav .nav-scroll-wrapper .nav-logo-top { padding-bottom: 1rem; border-bottom: 1px solid #333; }
    .spectre-post-container > nav .nav-scroll-wrapper .nav-logo img { max-width: 100%; max-height: 150px; height: auto; display: inline-block; vertical-align: middle; }

    /* Left Navigation Button Styling */
    .spectre-post-container > nav .nav-scroll-wrapper a { display: flex; align-items: center; justify-content: flex-start; width: 100%; box-sizing: border-box; padding: 0.9rem 1.5rem; margin-bottom: 0.5rem; border: 1px solid #4a4a4a; background-color: #1f1f1f; color: #ff8c8c; text-align: left; border-radius: 6px; font-family: "Orbitron", sans-serif; text-transform: uppercase; text-decoration: none; font-size: 1rem; font-weight: normal; transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.2s ease-out, box-shadow 0.3s ease; flex-shrink: 0; }
    .spectre-post-container > nav .nav-scroll-wrapper a:hover { background-color: #ff4c4c; color: #0b0e13; border-color: #ff6a6a; transform: translateY(-2px); box-shadow: 0 5px 12px rgba(255, 76, 76, 0.3); }
    .spectre-post-container > nav .nav-scroll-wrapper a.nav-active { background: linear-gradient(to bottom, #ff4c4c, #d13b3b); color: #ffffff; border-color: #c02c2c; box-shadow: 0 3px 8px rgba(255, 76, 76, 0.4), inset 0 1px 3px rgba(0, 0, 0, 0.2); transform: translateY(0px); font-weight: bold; }
    .spectre-post-container > nav .nav-scroll-wrapper a.nav-active:hover { background: linear-gradient(to bottom, #ff6a6a, #ff4c4c); color: #ffffff; border-color: #d13b3b; }
    .spectre-post-container > nav .nav-scroll-wrapper a svg { fill: currentColor; width: 1em; height: 1em; margin-right: 0.8rem; vertical-align: middle; flex-shrink: 0; }

    /* Aside content: Top Logo and Headings */
    .aside-scroll-wrapper > .aside-top-logo { padding: 1rem; text-align: center; border-bottom: 1px solid #333; margin-bottom: 0; flex-shrink: 0; }
    .aside-scroll-wrapper > .aside-top-logo img { max-width: 180px; max-height: 100px; height: auto; display: inline-block; }
    .aside-scroll-wrapper > h2 { font-size: 1.1rem; color: #ff4c4c; text-transform: uppercase; margin: 0 0 0.5rem 0; padding: 1rem 0 0.5rem 0; border-bottom: 1px solid #333; flex-shrink: 0; font-family: "Orbitron", sans-serif; }

    /* UNIFIED STYLING for Right Aside Table of Contents Links */
    .spectre-post-aside ul.aside-toc { list-style: none; padding: 0; margin: 0.5rem 0; flex-grow: 1; /* min-height: 50px; /* Removed based on previous discussion */ }
    .spectre-post-aside ul.aside-toc li { margin: 0; }
    .spectre-post-aside ul.aside-toc a { display: flex; align-items: center; justify-content: flex-start; width: 100%; box-sizing: border-box; padding: 0.9rem 1.5rem; margin-bottom: 0.5rem; border: 1px solid #4a4a4a; background-color: #1f1f1f; color: #ff8c8c; text-align: left; border-radius: 6px; font-family: "Orbitron", sans-serif; text-transform: uppercase; text-decoration: none; font-size: 1rem; font-weight: normal; transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.2s ease-out, box-shadow 0.3s ease; flex-shrink: 0; }
    .spectre-post-aside ul.aside-toc a:hover { background-color: #ff4c4c; color: #0b0e13; border-color: #ff6a6a; transform: translateY(-2px); box-shadow: 0 5px 12px rgba(255, 76, 76, 0.3); }
    .spectre-post-aside ul.aside-toc a.active { background: linear-gradient(to bottom, #ff4c4c, #d13b3b); color: #ffffff; border-color: #c02c2c; box-shadow: 0 3px 8px rgba(255, 76, 76, 0.4), inset 0 1px 3px rgba(0, 0, 0, 0.2); transform: translateY(0px); font-weight: bold; }
    .spectre-post-aside ul.aside-toc a.active:hover { background: linear-gradient(to bottom, #ff6a6a, #ff4c4c); color: #ffffff; border-color: #d13b3b; }
    .spectre-post-aside ul.aside-toc a svg { fill: currentColor; width: 1em; height: 1em; margin-right: 0.8rem; vertical-align: middle; flex-shrink: 0; opacity: 0.7; transition: opacity 0.3s ease; }
    .spectre-post-aside ul.aside-toc a:hover svg { opacity: 1; }
    .spectre-post-aside ul.aside-toc a.active svg { opacity: 1; color: #ffffff; }

    /* Bio Section */
    .aside-bio-section { padding: 1rem; border-top: 1px solid #333; margin-top: auto; flex-shrink: 0; color: #f0f0f0; font-size: 0.85rem; line-height: 1.5; background-color: rgba(255, 76, 76, 0.05); border-radius: 0 0 5px 5px; }
    .aside-bio-section .aside-bio-heading { font-size: 1rem !important; color: #ff8c8c !important; text-transform: uppercase; margin: 0 0 0.5rem 0 !important; padding: 0 0 0.3rem 0 !important; border-bottom: 1px dashed #444 !important; font-family: "Orbitron", sans-serif; }
    .aside-bio-content { max-height: 30vh; overflow-y: auto; padding-right: 0.5rem; scrollbar-width: thin; scrollbar-color: #ff4c4c #111; }
    .aside-bio-content::-webkit-scrollbar { width: 6px; }
    .aside-bio-content::-webkit-scrollbar-track { background: #1a1a1a; }
    .aside-bio-content::-webkit-scrollbar-thumb { background-color: #ff4c4c; border-radius: 3px; border: 1px solid #0b0e13; }

    /* Main content area */
    .spectre-post-container > .container {
      overflow-y: auto; 
      overflow-x: auto; 
      min-height: 0;    
      padding: 1.5rem 2rem; 
      box-sizing: border-box;
    }
    .spectre-post-container > .container > .section:first-child {
       margin-top: 0; 
    }

    /* --- Content Responsiveness & Overflow Management --- */
    .spectre-post-container > .container img { max-width: 100%; height: auto; display: block; }
    .spectre-post-container > .container table,
    .spectre-post-container > .container pre { max-width: 100%; overflow-x: auto; word-wrap: break-word; }
    .spectre-post-container > .container .section p,
    .spectre-post-container > .container .section li,
    .spectre-post-container > .container .section div:not(.gallery):not(.gallery-item):not([class*='tabs']):not([class*='content-wrapper']),
    .spectre-post-container > .container .section td,
    .spectre-post-container > .container .section th { word-wrap: break-word; }
    /* --- END Content Responsiveness & Overflow Management --- */

    /* General Content Styles (Headings, Paragraphs, etc.) */
    .spectre-post-container .container h2 { font-size: 1.8rem; color: #ff4c4c; text-transform: uppercase; font-family: "Orbitron", sans-serif; border-bottom: 1px solid #444; padding-bottom: 0.5rem; margin-top: 2rem; margin-bottom: 1.5rem; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); }
    .spectre-post-container .container h3 { font-size: 1.4rem; color: #ff8c8c; text-transform: uppercase; font-family: "Orbitron", sans-serif; border-bottom: 1px solid #333; padding-bottom: 0.3rem; margin-top: 1.5rem; margin-bottom: 1rem; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); }
    .spectre-post-container .container h4 { font-size: 1.2rem; color: #ffaaaa; font-family: "Orbitron", sans-serif; margin-top: 1.2rem; margin-bottom: 0.8rem; }
    .spectre-post-container .container .section > h2:first-child,
    .spectre-post-container .container .section > h3:first-child { margin-top: 0; }
    .spectre-post-container .container p { margin-bottom: 1.2rem; }
    .spectre-post-container .container .scenario-narrative { background-color: rgba(20, 20, 25, 0.5); padding: 1.5rem; border-left: 3px solid #ff4c4c; margin-bottom: 1.5rem; border-radius: 0 5px 5px 0; }
    .spectre-post-container .container .scenario-narrative p { margin-bottom: 0.8rem; text-indent: 1.5em; }
    .spectre-post-container .container .scenario-narrative p:first-of-type { text-indent: 0; }
    .spectre-post-container .container .scenario-narrative h3 + p { text-indent: 0; }
    .spectre-post-container .container .scenario-narrative h4 { font-size: 1.1rem; color: #ff6a6a; text-transform: none; border-bottom: 1px dashed #555; padding-bottom: 0.2rem; margin-top: 1rem; margin-bottom: 0.5rem; }
    .spectre-post-container .container .scenario-narrative strong { color: #ffaaaa; font-family: "Orbitron", sans-serif; }
    .spectre-post-container .container .back-to-top { font-size: 14px; color: #ffaaaa; text-decoration: underline; margin-left: 1em; text-transform: none; font-family: "Segoe UI", "Roboto", "Helvetica Neue", sans-serif; vertical-align: middle; transition: color 0.3s ease; }
    .spectre-post-container .container .back-to-top:hover { color: #fff; }
    .styled-button { cursor: pointer; font-family: "Orbitron", sans-serif; text-transform: uppercase; transition: background 0.3s, color 0.3s, border-color 0.3s, transform 0.2s ease-out, box-shadow 0.3s ease; border-radius: 6px; font-weight: bold; letter-spacing: 0.5px; display: inline-block; }
    .spectre-post-container .container .ship-family-tabs { display: flex; flex-wrap: wrap; justify-content: center; margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 3px solid #ff4c4c; }
    .spectre-post-container .container .ship-family-tabs button.family-tab { background-color: #1f1f1f; border: 1px solid #4a4a4a; color: #ff8c8c; padding: 0.9rem 1.8rem; margin: 0.5rem; font-size: 1.1rem; }
    .spectre-post-container .container .ship-family-tabs button.family-tab:hover { border-color: #ff6a6a; color: #0b0e13; background-color: #ff4c4c; transform: translateY(-2px); box-shadow: 0 5px 12px rgba(255, 76, 76, 0.3); }
    .spectre-post-container .container .ship-family-tabs button.family-tab.active-family { background: linear-gradient(to bottom, #ff4c4c, #d13b3b); color: #ffffff; border-color: #c02c2c; box-shadow: 0 3px 8px rgba(255, 76, 76, 0.4), inset 0 1px 3px rgba(0, 0, 0, 0.2); transform: translateY(0px); }
    .spectre-post-container .container .ship-family-content-wrapper { display: none; padding-top: 1rem; }
    .spectre-post-container .container .ship-family-content-wrapper.active-family-content { display: block; }
    .spectre-post-container .container .variant-tabs { display: flex; flex-wrap: wrap; justify-content: center; margin-bottom: 1rem; }
    .spectre-post-container .container .variant-tabs button { background-color: #1a1a1a; border: 1px solid #444; color: #ffaaaa; padding: 0.7rem 1.4rem; margin: 0.3rem; font-size: 1rem; }
    .spectre-post-container .container .variant-tabs button:hover { border-color: #ff4c4c; color: #0b0e13; background-color: #ff6a6a; transform: translateY(-2px); box-shadow: 0 4px 8px rgba(255, 106, 106, 0.25); }
    .spectre-post-container .container .variant-tabs button.active { background: linear-gradient(to bottom, #ff6a6a, #ff4c4c); color: #0b0e13; border-color: #ff4c4c; box-shadow: 0 2px 5px rgba(255, 76, 76, 0.3), inset 0 1px 2px rgba(0, 0, 0, 0.1); transform: translateY(0px); }
    .spectre-post-container .container .model-control-btn { background-color: #1f1f1f; border: 1px solid #383838; color: #ffaaaa; padding: 0.5rem 1rem; margin: 0.2rem; font-size: 0.85rem; font-weight: normal; letter-spacing: 0.2px; }
    .spectre-post-container .container .model-control-btn:hover { border-color: #ff4c4c; color: #fff; background-color: #2a2a2a; transform: translateY(-1px); box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); }
    .spectre-post-container .container .variant-content { display: none; background-color: rgba(30, 30, 30, 0.6); padding: 1.5rem; border-radius: 5px; margin-top: 1rem; border: 1px solid #333; }
    .spectre-post-container .container .variant-content h3 { border-bottom: none !important; margin-top: 0 !important; margin-bottom: 1rem !important; color: #ff4c4c; font-size: 1.6rem; }
    .spectre-post-container .container .variant-content h4 { font-size: 1.3rem; color: #ff8c8c; text-transform: uppercase; font-family: "Orbitron", sans-serif; border-bottom: 1px dotted #444; padding-bottom: 0.2rem; margin-top: 1.2rem; margin-bottom: 0.8rem; }
    .spectre-post-container .container .variant-content ul { list-style: disc; padding-left: 25px; margin: 1rem 0 0 0; }
    .spectre-post-container .container .variant-content li { margin-bottom: 0.7rem; padding-left: 5px; }
    .spectre-post-container .container .variant-content.active { display: block; }
    .spectre-post-container .container .section { background-color: rgba(255, 76, 76, 0.03); padding: 2rem; border-radius: 8px; margin-top: 2.5rem; border: 1px solid #2a2a2a; transition: background-color 0.3s ease, border-color 0.3s ease; }
    .spectre-post-container .container .section:first-child { margin-top: 0; }
    .spectre-post-container .container table { width: 100%; border-collapse: collapse; margin-top: 1.5rem; margin-bottom: 1rem; table-layout: fixed; }
    .spectre-post-container .container th, .spectre-post-container .container td { padding: 0.5rem 1rem; border-bottom: 1px solid #333; color: #f0f0f0; text-align: left; vertical-align: top; }
    .spectre-post-container .container th { background-color: #1f1f1f; color: #ffaaaa; font-family: "Orbitron", sans-serif; width: 25%; font-size: 0.95rem; }
    .spectre-post-container .container td { width: 75%; }
    .spectre-post-container .container a img:hover { transform: scale(1.02); box-shadow: 0 0 15px rgba(255, 76, 76, 0.3); }
    .spectre-post-container .container .gallery { display: flex; flex-wrap: nowrap; gap: 1rem; overflow-x: auto; padding: 1rem; background-color: rgba(0, 0, 0, 0.3); border-radius: 6px; border: 1px solid #2a2a2a; justify-content: flex-start; max-width: 100%; /* min-width: 0; /* Kept from earlier, harmless */ }
    .spectre-post-container .container .gallery img { width: auto; height: 426px; max-height: 426px; max-width: 640px; flex-shrink: 0; border-radius: 6px; cursor: pointer; transition: transform 0.3s ease, box-shadow 0.3s ease; border: 1px solid #444; object-fit: cover; }
    .spectre-post-container .container .caption { text-align: center; font-size: 16px; color: #ffaaaa; margin-top: 0.5rem; }
    .spectre-post-container .container details { background-color: #1a1a1a; border: 1px solid #333; border-radius: 5px; padding: 0.8rem 1.2rem; margin-top: 1rem; transition: background-color 0.3s ease; }
    .spectre-post-container .container details:hover { background-color: #222; }
    .spectre-post-container .container details summary { cursor: pointer; font-family: "Orbitron", sans-serif; color: #ffaaaa; outline: none; list-style: none; display: block; padding: 0.3rem 0; }
    .spectre-post-container .container details summary::-webkit-details-marker { display: none; }
    .spectre-post-container .container details summary h3 { margin: 0; display: inline; color: #ffaaaa; border-bottom: none; font-size: 1.2rem; }
    .spectre-post-container .container details summary::before { content: "▶"; display: inline-block; color: #ffaaaa; font-size: 1rem; margin-right: 0.8rem; transition: transform 0.2s ease; vertical-align: middle; }
    .spectre-post-container .container details[open] summary::before { transform: rotate(90deg); }
    .spectre-post-container .container details div { padding-top: 1rem; margin-top: 0.5rem; border-top: 1px solid #333; }
    .spectre-post-container .container blockquote { border-left: 4px solid #ff4c4c; margin: 1rem 0 0.5rem 0; padding: 0.5rem 1.5rem; font-style: italic; color: #ddd; background-color: rgba(255, 76, 76, 0.02); }
    .spectre-post-container .container blockquote br { display: none; }
    .spectre-post-container .container blockquote + p { margin-left: 1.5rem; font-size: 15px; color: #aaa; margin-top: 0.2rem; margin-bottom: 1.5rem; }
    .spectre-post-container .container img:not([src]),
    .spectre-post-container .container img[src=""] { display: none; }

    /* Desktop Media Query Specifics */
    @media (min-width: 992px) {
      .spectre-post-container > nav {
        border-bottom: none; 
        border-right: 2px solid #ff4c4c; 
      }
      .spectre-post-container > nav .nav-scroll-wrapper .nav-logo-top {
        margin-bottom: 1rem; 
        border-bottom: none; 
      }
    }
    </style>
    
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  </head>
  <body>
    <div class="spectre-post-container" id="spectre-top">
      <header>
        <h1>HFW Shadow Fleet - Comprehensive Design Document</h1>
        <p style="color: #aaaaaa; font-size: 0.9em; margin-top: 0.2em">
          Developed by Hephaestus Forge Works (An Anvil Aerospace Subsidiary)
        </p>
      </header>

      <nav>
        <div class="nav-scroll-wrapper">
          <div class="nav-logo nav-logo-top">
            <img
              alt="Anvil Logo"
              src="https://imagizer.imageshack.com/img922/7540/a21t3g.png"
              onerror="this.onerror=null;this.src='https://placehold.co/400x200/1a1a1a/ff4c4c?text=Anvil+Logo';"
              loading="lazy"
              width="400" 
              height="200"
            />
          </div>
          <a href="#spectre-concept-image"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><rect height="18" rx="2" ry="2" width="18" x="3" y="3"></rect><circle cx="9" cy="9" r="2"></circle><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"></path></svg>Gallery</a>
          <a href="#spectre-genesis"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M22 12h-6l-2 3h-4l-2-3H2"></path><path d="M5 12v6a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3v-6"></path><path d="M18 3a3 3 0 0 0-3 3v6h4V6a3 3 0 0 0-3-3Z"></path><path d="M6 3a3 3 0 0 0-3 3v6h4V6a3 3 0 0 0-3-3Z"></path></svg>Genesis</a>
          <a href="#spectre-hfw-overview"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path></svg>HFW Overview</a>
          <a href="#spectre-founding-docs"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" x2="8" y1="13" y2="13"></line><line x1="16" x2="8" y1="17" y2="17"></line><line x1="3" x2="3.01" y1="6" y2="6"></line><line x1="3" x2="3.01" y1="12" y2="12"></line><line x1="3" x2="3.01" y1="18" y2="18"></line></svg>Founding Docs</a>
          <a href="#spectre-specs"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="8" x2="21" y1="6" y2="6"></line><line x1="8" x2="21" y1="12" y2="12"></line><line x1="8" x2="21" y1="18" y2="18"></line><line x1="3" x2="3.01" y1="6" y2="6"></line><line x1="3" x2="3.01" y1="12" y2="12"></line><line x1="3" x2="3.01" y1="18" y2="18"></line></svg>Specs</a>
          <a href="#spectre-variants"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11 17H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h6"></path><path d="M15 5h6a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-6"></path></svg>HFW Variants</a>
          <a href="#spectre-stealth-doctrine"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11 17H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h6"></path><path d="M15 5h6a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-6"></path></svg>Stealth</a>
          <a href="#spectre-scenarios"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" x2="8" y1="13" y2="13"></line><line x1="16" x2="8" y1="17" y2="17"></line><line x1="10" x2="8" y1="9" y2="9"></line></svg>Scenarios</a>
          <a href="#spectre-interior"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><rect height="18" rx="2" width="18" x="3" y="3"></rect><path d="M3 9h18"></path><path d="M9 21V9"></path></svg>Interior</a>
          <a href="#spectre-talent"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>Talent</a>
          <a href="#spectre-comparison"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 3v18"></path><path d="M3.5 8.5v7"></path><path d="M20.5 12v-7"></path></svg>Comparison</a>
          <a href="#spectre-environment"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M21.2 15c.7-1.2 1-2.5.7-3.9-.6-2.4-2.4-4.2-4.8-4.8-.4-.1-.8-.2-1.2-.2-1.4-.1-2.7.1-3.9.7-1.2.6-2.2 1.4-3 2.4-.8 1-1.3 2.1-1.6 3.2C2 14.8 3.2 18 6.2 19.7c1 .6 2.1.9 3.2 1 .8.1 1.5 0 2.3-.2 1.1-.3 2.2-.8 3.1-1.5.9-.7 1.7-1.5 2.4-2.4.7-.9 1.2-2 1.5-3.1.2-.8.2-1.6 0-2.3z"></path><path d="M12 6V2"></path><path d="m4.9 4.9 2.8 2.8"></path><path d="M2 12h4"></path><path d="m4.9 19.1 2.8-2.8"></path><path d="M12 18v4"></path><path d="m19.1 19.1-2.8-2.8"></path><path d="M22 12h-4"></path><path d="m19.1 4.9-2.8 2.8"></path></svg>Environment</a>
          <a href="#spectre-testimonials"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path></svg>Testimonials</a>
          <a href="#revenant-acquisition"><svg class="feather feather-gitlab" fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.59A4.28 4.28 0 0 1 8.09 2h7.82a4.28 4 0 0 1 3.06 1.64l2.44 7.59 1.22 3.78a.84.84 0 0 1-.3.94z"></path><line x1="10.53" x2="10.53" y1="20.24" y2="22.24"></line><line x1="13.47" x2="13.47" y1="20.24" y2="22.24"></line><line x1="16.41" x2="18.41" y1="18.23" y2="18.23"></line><line x1="5.59" x2="7.59" y1="18.23" y2="18.23"></line></svg>Revenant Acquisition</a>
          <a href="#spectre-conclusion"><svg fill="none" height="1em" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>Conclusion</a>
        </div>
      </nav>

      <div class="container">
        <div class="section" id="spectre-concept-image">
          <h2>
            Concept Gallery
            <a class="back-to-top" href="#spectre-top">[Back to Top]</a>
          </h2>
          <p>
            Visual representations illustrating the scale and design of HFW's
            covert assets.
          </p>
          <div class="gallery">
            <div class="gallery-item">
              <a
                href="https://imagizer.imageshack.com/img922/7601/xbT5I0.png"
                target="_blank"
                rel="noopener noreferrer"
                ><img
                  alt="Anvil Spectre in flight"
                  src="https://imagizer.imageshack.com/img922/7601/xbT5I0.png"
                  onerror="this.onerror=null;this.src='https://placehold.co/640x426/1a1a1a/ff4c4c?text=Spectre+Image+1';"
                  loading="lazy" width="640" height="426"
              /></a>
            </div>
            <div class="gallery-item">
              <a
                href="https://imagizer.imageshack.com/img923/6872/oFrnl2.png"
                target="_blank"
                rel="noopener noreferrer"
                ><img
                  alt="Anvil Spectre from above"
                  src="https://imagizer.imageshack.com/img923/6872/oFrnl2.png"
                  onerror="this.onerror=null;this.src='https://placehold.co/640x426/1a1a1a/ff4c4c?text=Spectre+Image+2';"
                  loading="lazy" width="640" height="426"
              /></a>
            </div>
            <div class="gallery-item">
              <a
                href="https://imagizer.imageshack.com/img922/2747/bWMmuY.png"
                target="_blank"
                rel="noopener noreferrer"
                ><img
                  alt="Anvil Spectre in a hangar"
                  src="https://imagizer.imageshack.com/img922/2747/bWMmuY.png"
                  onerror="this.onerror=null;this.src='https://placehold.co/640x426/1a1a1a/ff4c4c?text=Spectre+Image+3';"
                  loading="lazy" width="640" height="426"
              /></a>
            </div>
            <div class="gallery-item">
              <a
                href="https://imagizer.imageshack.com/img924/3701/5OqxrV.png"
                target="_blank"
                rel="noopener noreferrer"
                ><img
                  alt="Anvil Spectre in stealth mode"
                  src="https://imagizer.imageshack.com/img924/3701/5OqxrV.png"
                  onerror="this.onerror=null;this.src='https://placehold.co/640x426/1a1a1a/ff4c4c?text=Spectre+Image+4';"
                  loading="lazy" width="640" height="426"
              /></a>
            </div>
            <div class="gallery-item">
              <a
                href="https://imagizer.imageshack.com/img924/9325/K5BWUN.png"
                target="_blank"
                rel="noopener noreferrer"
                ><img
                  alt="Anvil Spectre close-up"
                  src="https://imagizer.imageshack.com/img924/9325/K5BWUN.png"
                  onerror="this.onerror=null;this.src='https://placehold.co/640x426/1a1a1a/ff4c4c?text=Spectre+Image+5';"
                  loading="lazy" width="640" height="426"
              /></a>
            </div>
            <div class="gallery-item">
              <a
                href="https://imagizer.imageshack.com/img923/3776/K0oowz.png"
                target="_blank"
                rel="noopener noreferrer"
                ><img
                  alt="Anvil Spectre with landing gear"
                  src="https://imagizer.imageshack.com/img923/3776/K0oowz.png"
                  onerror="this.onerror=null;this.src='https://placehold.co/640x426/1a1a1a/ff4c4c?text=Spectre+Image+6';"
                  loading="lazy" width="640" height="426"
              /></a>
            </div>
            <div class="gallery-item">
              <a
                href="https://imagizer.imageshack.com/img923/5609/8WQlWI.png"
                target="_blank"
                rel="noopener noreferrer"
                ><img
                  alt="Anvil Spectre interior view"
                  src="https://imagizer.imageshack.com/img923/5609/8WQlWI.png"
                  onerror="this.onerror=null;this.src='https://placehold.co/640x426/1a1a1a/ff4c4c?text=Spectre+Image+7';"
                  loading="lazy" width="640" height="426"
              /></a>
            </div>
            <div class="gallery-item">
              <a
                href="https://imagizer.imageshack.com/img924/6461/3YOXUo.png"
                target="_blank"
                rel="noopener noreferrer"
                ><img
                  alt="Anvil Spectre cockpit"
                  src="https://imagizer.imageshack.com/img924/6461/3YOXUo.png"
                  onerror="this.onerror=null;this.src='https://placehold.co/640x426/1a1a1a/ff4c4c?text=Spectre+Image+8';"
                  loading="lazy" width="640" height="426"
              /></a>
            </div>
            <div class="gallery-item">
              <a
                href="https://imagizer.imageshack.com/img923/1767/t0R7xS.png"
                target="_blank"
                rel="noopener noreferrer"
                ><img
                  alt="Anvil Spectre in combat"
                  src="https://imagizer.imageshack.com/img923/1767/t0R7xS.png"
                  onerror="this.onerror=null;this.src='https://placehold.co/640x426/1a1a1a/ff4c4c?text=Spectre+Image+9';"
                  loading="lazy" width="640" height="426"
              /></a>
            </div>
            <div class="gallery-item">
              <a
                href="https://imagizer.imageshack.com/img923/2812/IhfzVK.png"
                target="_blank"
                rel="noopener noreferrer"
                ><img
                  alt="Anvil Spectre in space"
                  src="https://imagizer.imageshack.com/img923/2812/IhfzVK.png"
                  onerror="this.onerror=null;this.src='https://placehold.co/640x426/1a1a1a/ff4c4c?text=Spectre+Image+10';"
                  loading="lazy" width="640" height="426"
              /></a>
            </div>
          </div>
        </div>

        <section class="section" id="spectre-genesis">
          <h2>
            The Genesis of the Shadow<a class="back-to-top" href="#spectre-top"
              >[Back to Top]</a
            >
          </h2>
          <p>
            The year is 2933. Imperator Taryn Glauss, facing a galaxy simmering
            with unrest, confronted the formidable Vanduul threat looming on
            the borders, alongside the insidious emergence of Xenothreat.
            Intelligence reports depicted a highly organized, technologically
            advanced force that disregarded established power structures,
            rendering traditional overwhelming force ineffective. During a tense
            briefing on this growing menace, the concept of a precision weapon—a
            scalpel rather than a hammer—took shape. This instrument would
            operate unseen, gather crucial intelligence, and strike decisively
            before the enemy even knew it was targeted.
          </p>
          <p>
            Recognizing the profound urgency, Imperator Taryn Glauss's
            administration identified the strategic need for such advanced
            covert platforms. This high-level UEE concern prompted Dr. Aris
            Thorne, Anvil Aerospace's Lead Aerospace Engineer & Director of
            Advanced Bio-Engineering and Strategic R&D, to formulate a radical
            solution: the creation of a specialized clandestine R&D division. To
            meet this unique challenge, Anvil Aerospace leveraged and formalized
            its internal clandestine R&D efforts, leading to Dr. Thorne's
            proposal for and the subsequent approval (late 2933 by Anvil's
            board, with implicit backing from Glauss's administration ) and
            establishment of
            <strong>Hephaestus Forge Works (HFW)</strong>. HFW was conceived to develop
            the advanced technologies and capabilities necessary to address
            these escalating and unconventional threats, operating with
            significant autonomy under the Anvil Aerospace umbrella, shrouded in
            secrecy.
          </p>
          <p>
            From late 2933 through early 2940, HFW focused on building its
            operational base, "The Forge," and conducting foundational research
            into next-generation stealth and weapons systems. With The Forge
            operational in early 2940, HFW presented its advanced concepts,
            including a fully conceptualized covert platform. It was then, in
            2940, that Imperator Kelos Costigan (who took office in 2938),
            recognizing the matured capability of HFW and the persistent
            galactic threats, issued the formal presidential directive
            validating and commissioning the <strong>Spectre project</strong>, tasking
            HFW with its full-scale development and production.
          </p>
          <p>
            As prime contractor for the Spectre, HFW built upon centuries of UEE
            research into signature reduction and Anvil's own pioneering work.
            They developed the Spectre's next-generation, multi-layered hull
            material and coating, an advanced derivative significantly absorbing
            and diffusing EM, IR, and cross-section signatures. This passive
            signature reduction was augmented by sophisticated active systems
            integrated by HFW through strategic subcontracts and internal
            breakthroughs:
          </p>
          <ul>
            <li>
              <strong>Esperia</strong> was subcontracted for their expertise in replicating
              historical Tevarin technology, providing the Spectre's unique
              'ghost mode' electronic cockpit.
            </li>
            <li>
              HFW integrated an advanced version of the retractable armored
              shutter system (akin to the Carrack's).
            </li>
            <li>
              HFW integrated signature masking components influenced by
              <strong>MISC/Mirai's Xi'an tech research</strong> and incorporated advanced
              targeting and Electronic Warfare systems from
              <strong>Aegis Dynamics</strong>.
            </li>
            <li>
              The <strong>adaptive countershading</strong> system (hallmark of the Shadow
              variant) was a major internal HFW breakthrough.
            </li>
          </ul>
          <p>
            Early prototypes underwent rigorous testing against actual Ninetails
            targets, validating their capabilities. The experiences of
            individuals like Jax “Whisper” Rylan, a former Ninetails technician
            who survived such an attack and was later recruited by HFW,
            underscored the profound impact of these new stealth platforms.
            Covert Spectre deployments fueled rumors of 'friendly ghosts,'
            eventually leading military analysts to suspect HFW's involvement.
            This led to the development of the specialized Spectre variants
            (Shadow, Strike, Lockdown, Pulse) and the parallel project for The
            Forge's ultimate sentinel: the Spectre Revenant.
          </p>
        </section>

        <section class="section" id="spectre-hfw-overview">
          <h2>
            Hephaestus Forge Works (HFW): Comprehensive Overview<a
              class="back-to-top"
              href="#spectre-top"
              >[Back to Top]</a
            >
          </h2>
          <p>
            <strong>Hephaestus Forge Works (HFW)</strong> is the highly specialized and
            clandestine advanced research and development division operating
            under the umbrella of Anvil Aerospace. Born from the visionary
            proposal of Dr. Aris Thorne in <strong>2933</strong>, and formally
            established in <strong>early 2940</strong>, HFW was conceived to address the
            escalating and unconventional threats posed by entities like
            Xenothreat and the Vanduul. Its very foundation was inspired by the
            legendary "Skunk Works" and "Phantom Works" of historical Earth,
            designed to push the very boundaries of military technology far
            beyond standard development cycles.
          </p>
          <p>
            Under the directorship of its founder, Dr. Aris Thorne, HFW operates
            with unparalleled autonomy and is shrouded in absolute secrecy. It
            serves as Anvil's dedicated crucible for delivering bleeding-edge,
            classified solutions that address unique and critical requirements
            deemed beyond the scope of standard development. HFW's mandate
            prioritizes radical innovation and rapid results, consistently
            employing unconventional approaches to both technology development
            and personnel cultivation.
          </p>
          <p>
            HFW's main operational base, known simply as <strong>The Forge</strong>, is a
            marvel of clandestine engineering. Located deep within a volatile
            nebula on a
            <strong>newly discovered, fairly small, rogue moon</strong> – one unburdened
            by the gravitational pull of a parent planet – its initial unstable
            orbit necessitated a monumental, multi-year project (2934-2940) to
            stabilize its trajectory through precise gravitational nudges and
            powerful terraforming bursts. The moon itself underwent an act of
            <strong>geological reconstruction</strong>, transforming its vast, ancient
            natural caverns into a single, integrated, and self-sustaining
            giant moon base. This intricate process included the meticulous
            integration of <strong>complex artificial gravity systems</strong>, engineered
            to avoid any gravitational fluctuations that could destabilize the
            delicate orbital mechanics of the surrounding asteroid field, thus
            maintaining The Forge's hidden advantage.
          </p>
          <p>
            This heavily fortified moon base serves as the central hub for
            HFW's research, development, prototyping, and testing activities. It
            houses their most sensitive projects, including the groundbreaking
            Spectre program and its state-of-the-art facilities like the
            specialized regeneration center for the Phoenix Protocol training
            program. The strategic importance of safeguarding The Forge drives
            the development of dedicated defensive assets like the Spectre
            Revenant.
          </p>
          <p>
            HFW is renowned for its unique <strong>Talent Acquisition Doctrine</strong>.
            This approach supplements standard recruitment by discreetly
            observing and actively recruiting individuals who demonstrate
            exceptional aptitude or possess unique, hard-won experience
            relevant to HFW's clandestine mission – regardless of their origin
            or past affiliations. From its inception, this doctrine led to the
            formation of the <strong>Ghost Teams</strong>, elite field operatives and
            intelligence gatherers whose unconventional skills were crucial for
            HFW's data acquisition and early field testing. This unconventional
            approach recognizes that firsthand encounters with bleeding-edge
            technology or deep understanding of specific operational challenges
            can forge perspectives and skills unobtainable through traditional
            means. It was through this very doctrine that operatives like
            <strong>Jax "Whisper" Rylan</strong>, a former Ninetails outpost technician
            whose profound experience surviving a Spectre attack fostered an
            unparalleled expertise in detecting stealth threats, was brought
            into The Forge's expanding ranks following his critical involvement
            in Dr. Thorne's rescue. His unique insights now directly contribute
            to the refinement of The Forge's cutting-edge designs, including
            the Spectre program itself.
          </p>
          <p>
            In essence, Hephaestus Forge Works represents Anvil Aerospace's
            unwavering commitment to pushing beyond conventional limits in
            stealth, electronic warfare, advanced combat systems, and
            bio-engineering. Operating as a shadow within a shadow, HFW delivers
            the groundbreaking tools necessary for the UEE to maintain decisive
            superiority against unforeseen and rapidly evolving threats,
            ensuring the future is not merely designed, but <strong>forged</strong>.
          </p>
        </section>

        <section class="section" id="spectre-founding-docs">
          <h2>
            Founding Documents & Key Moments<a
              class="back-to-top"
              href="#spectre-top"
              >[Back to Top]</a
            >
          </h2>
          <h3 id="spectre-founding-docs-a-hephaestus-forge-works-proposal">
            A. Hephaestus Forge Works: A Strategic Proposal (May 21, 2933)
          </h3>
          <p>
            <strong>To:</strong> The Board of Directors, Anvil Aerospace<br /><strong>From:</strong>
            Dr. Aris Thorne, Lead Aerospace Engineer & Director of Advanced
            Bio-Engineering and Strategic R&D<br /><strong>Date:</strong>
            May 21, 2933<br /><strong>Subject:</strong>
            Proposal for the Establishment of Hephaestus Forge Works – An
            Advanced Development Division
          </p>
          <h4 id="spectre-founding-docs-the-imperative">
            I. The Imperative: Adapting to Evolving Threats
          </h4>
          <p>
            Echoing the mid-20th century Cold War era, when the USA established
            dedicated 'top secret' development enclaves, these organizations
            were paramount in ensuring national security. Tasked with countering
            potential Soviet threats, their singular focus was on maintaining a
            decisive technological advantage, pushing the boundaries of
            engineering to deliver unparalleled capabilities.
          </p>
          <p>
            Today, Anvil Aerospace faces a similarly critical juncture. The
            ongoing and escalating threat of
            <strong>Xenothreat incursions</strong>, coupled with the persistent and
            unpredictable danger of <strong>Vanduul attacks</strong>, presents an
            existential challenge to galactic security and, by extension, to our
            core business and the safety of our clients. These adversaries
            operate with unconventional tactics and often possess unknown
            technological advantages, demanding a response that is agile,
            innovative, and, at times, discreet. Standard development cycles,
            while robust, may not be sufficient to meet the rapid evolution of
            these threats.
          </p>
          <h4 id="spectre-founding-docs-introducing-hfw">
            II. Introducing: Hephaestus Forge Works
          </h4>
          <p>
            To address this critical need, I am formally proposing the creation
            of a specialized, <strong>clandestine arm of Anvil Aerospace</strong>, to be
            known henceforth as <strong>Hephaestus Forge Works (HFW)</strong>. This
            initiative stems from a deep conviction that Anvil's future security
            and leadership depend on a dedicated entity capable of rapid,
            unconventional innovation.
          </p>
          <p>
            This designation is not merely a name; it is a declaration of
            purpose and a homage to a storied legacy:
          </p>
          <ul>
            <li>
              <strong>Hephaestus:</strong> Drawing inspiration from the Greek god of
              blacksmiths, artisans, fire, and volcanoes, "Hephaestus" embodies
              the spirit of masterful craftsmanship, intense dedication, and
              transformative creation from raw elements. It perfectly aligns
              with Anvil's reputation for rugged, reliable, and powerful
              starcraft, emphasizing the foundational, hands-on engineering that
              defines our brand.
            </li>
            <li>
              <strong>Forge Works:</strong> This directly connects HFW to the historical
              "Works" of bygone eras – the renowned Skunk Works and Phantom
              Works. These were not just departments; they were cultures of
              innovation, secrecy, and rapid prototyping, where brilliant minds
              operated with unparalleled autonomy to deliver groundbreaking
              solutions under extreme pressure. "Forge Works" signifies a
              dedicated environment where cutting-edge concepts are hammered
              into reality, often outside conventional scrutiny.
            </li>
          </ul>
          <h4 id="spectre-founding-docs-mission-and-capabilities">
            III. Mission and Capabilities of The Forge
          </h4>
          <p>
            Hephaestus Forge Works will operate with a focused mandate: to
            ensure Anvil Aerospace, and by extension the UEE, maintains the upper
            hand against emerging and unconventional threats. Its core
            capabilities will include:
          </p>
          <ul>
            <li>
              <strong>Rapid Research & Development (R&D):</strong> Accelerated
              development cycles for experimental technologies, counter-measures,
              and specialized components.
            </li>
            <li>
              <strong>Advanced Prototyping:</strong> The ability to quickly design, build,
              and test proof-of-concept vehicles and systems that push beyond
              current industry standards.
            </li>
            <li>
              <strong>Threat-Specific Adaptation:</strong> Developing bespoke modifications
              and entirely new craft tailored to neutralize specific Xenothreat
              and Vanduul capabilities.
            </li>
            <li>
              <strong>Clandestine Operations Support:</strong> Designing and integrating
              systems for covert missions, intelligence gathering, and
              specialized combat scenarios.
            </li>
            <li>
              <strong>Talent Incubation:</strong> Attracting and empowering the most
              brilliant and unconventional engineers, scientists, and
              strategists, providing them with the resources and freedom to
              innovate without bureaucratic impedance.
            </li>
          </ul>
          <h4 id="spectre-founding-docs-strategic-advantage">
            IV. Strategic Advantage and Conclusion
          </h4>
          <p>
            The establishment of Hephaestus Forge Works is not merely an
            expansion; it is a strategic imperative. It represents Anvil
            Aerospace's commitment to proactive defense, ensuring that we are
            not just reacting to threats, but anticipating and neutralizing them
            with unparalleled speed and ingenuity. We've grown and learned
            immensely since our inception, pushing the boundaries of aerospace
            engineering. Now, it is time to channel that expertise into a
            dedicated, focused effort for the most critical challenges ahead.
          </p>
          <p>
            In the spirit of the Skunk and the Phantom, we present
            <strong>The Forge</strong>: Anvil Aerospace's unwavering commitment to securing
            the future, one groundbreaking innovation at a time.
          </p>

          <h3 id="spectre-founding-docs-b-genesis-of-the-forge">
            B. The Genesis of The Forge: HFW's Establishment (2933-2940)
          </h3>
          <p>
            The escalating threats from Xenothreat and the persistent Vanduul
            incursions had already begun to strain Anvil Aerospace's
            conventional R&D pipelines. Recognizing this critical juncture, Dr.
            Aris Thorne, a Lead Aerospace Engineer and Director of Advanced
            Bio-Engineering and Strategic R&D, formulated a radical solution. On
            May 21, 2933 , he submitted a compelling proposal to the Anvil
            Aerospace Board of Directors: the creation of a dedicated, agile,
            and clandestine division. His vision, echoing the 'top secret'
            development enclaves of the mid-20th century Cold War, promised to
            ensure Anvil's decisive technological advantage against these
            evolving threats.
          </p>
          <h4 id="spectre-founding-docs-establishing-the-command">
            Establishing the Command: Proposal Acceptance and Leadership (Late
            2933)
          </h4>
          <p>
            Dr. Thorne's foresight resonated deeply with the Board. After
            intense, highly classified deliberations, the proposal for
            Hephaestus Forge Works (HFW) was unanimously accepted. Thorne's
            unparalleled expertise and proven ability to innovate under pressure
            made him the unequivocal choice to lead this nascent division. He
            was officially appointed as the Director of Hephaestus Forge Works,
            a mandate that would largely subsume his previous roles and focus his
            formidable intellect on building The Forge from the ground up.
          </p>
          <h4 id="spectre-founding-docs-assembling-the-unconventional">
            Assembling the Unconventional: Recruitment (Early 2934)
          </h4>
          <p>
            With the Board's full backing and a substantial, classified budget,
            Dr. Thorne immediately embarked on HFW's most critical initial task:
            recruitment. This was no ordinary hiring drive. Thorne sought not
            just brilliance, but unconventional thinking, adaptability, and
            unwavering discretion. He targeted individuals who thrived on
            impossible challenges, possessed diverse and often unorthodox skill
            sets, and were willing to operate in the shadows for the greater
            good. Leveraging his extensive network in advanced research, he
            quietly approached top-tier engineers, rogue scientists, brilliant
            tacticians, and even former covert operatives. This meticulous,
            off-the-books process ensured absolute secrecy. Among these early,
            hand-picked specialists were the precursors to what would become
            known as the Ghost Teams – elite field operatives and intelligence
            gatherers whose unique skills would be crucial for HFW's clandestine
            data acquisition and eventual field testing of its advanced
            prototypes.
          </p>
          <h4 id="spectre-founding-docs-sanctuary-found">
            Sanctuary Found: Locating The Forge (Mid 2934)
          </h4>
          <p>
            Simultaneously, a dedicated team, personally overseen by Dr. Thorne,
            commenced the exhaustive search for HFW's operational heart – "The
            Forge." The requirements were stringent: extreme seclusion, far from
            established shipping lanes and civilian scrutiny; proximity to raw
            materials and energy sources for advanced manufacturing; natural
            defensibility; and environmental conditions conducive to highly
            sensitive research without external interference.
          </p>
          <p>
            After months of scouting countless systems and derelict
            installations, a site was identified deep within a nebula known for
            its volatile atmospheric conditions and treacherous asteroid fields.
            This natural deterrent provided the perfect cover. The chosen
            location was a newly discovered, fairly small, rogue moon – one
            unburdened by the gravitational pull of a parent planet . Its
            independent trajectory, while offering unparalleled isolation, also
            presented a unique challenge: an unstable orbit that threatened to
            eventually drift into interstellar space. Anvil's engineers
            immediately initiated a complex, long-term project to stabilize its
            trajectory, employing a combination of subtle gravitational nudges
            and powerful, precisely calibrated bursts from advanced terraforming
            equipment. This monumental effort secured the moon's long-term
            stability and, by extension, the enduring secrecy of The Forge.
            Beneath its surface, a vast, ancient network of natural caverns was
            found, imperfect and requiring immense effort to stabilize and
            expand, yet offering unmatched inherent secrecy and strategic
            isolation.
          </p>
          <h4 id="spectre-founding-docs-forging-the-future">
            Forging the Future: Construction and Integration (Late 2934 - Mid
            2940)
          </h4>
          <p>
            Construction of Hephaestus Forge Works commenced in late 2934, an
            undertaking of unprecedented scale and secrecy. Anvil Aerospace
            deployed a highly specialized, covert construction division,
            operating under strict non-disclosure agreements and layers of
            misdirection. Massive excavation and structural reinforcement
            projects transformed the natural caverns into a sprawling,
            multi-level facility. This was no mere base construction; it was an
            act of geological reconstruction, effectively turning the entire
            small moon into a single, integrated, and self-sustaining giant moon
            base.
          </p>
          <p>
            Within this re-engineered celestial body, advanced environmental
            controls, state-of-the-art manufacturing bays, secure research labs,
            and integrated defensive systems were meticulously installed, all
            designed to seamlessly integrate with the moon's re-engineered
            internal structure. Crucially, the integration of complex
            artificial gravity systems was meticulously engineered to avoid any
            gravitational fluctuations that could destabilize the delicate
            orbital mechanics of the surrounding asteroid field, thus
            maintaining The Forge's hidden advantage. The construction timeline
            was aggressive, driven by the urgency of the external threats, with
            resources funneled through shell corporations and disguised supply
            chains.
          </p>
          <p>
            By early 2940 , the primary construction was complete, and the most
            critical systems were brought online. Hephaestus Forge Works
            officially began its operational phase, a hidden crucible where
            Anvil's most daring innovations would be born, all under the direct
            leadership of its visionary founder, Dr. Aris Thorne.
          </p>
          <h4 id="spectre-founding-docs-operational-readiness-jax">
            Operational Readiness and Field Integration: The Rescue and
            Recruitment of Jax (Post-2940)
          </h4>
          <p>
            As The Forge became fully operational, its focus shifted to the
            rigorous testing and validation of its advanced prototypes. It was
            during this period that Dr. Thorne himself, while overseeing a
            critical off-world data acquisition mission, found himself in dire
            straits. His rescue was orchestrated by an elite, newly formed field
            team, including the skilled HFW operative Ghost, and crucially, a
            highly capable independent pilot named Jax, along with other key
            individuals. This pivotal event not only saved The Forge's director
            but also served as a real-world crucible for HFW's burgeoning field
            capabilities. Following his ordeal and the successful rescue, Jax's
            unique experiences and skill sets proved invaluable. He was
            subsequently recruited into the expanding ranks of HFW's field
            teams, directly contributing to the refinement of The Forge's
            cutting-edge designs and projects like the Spectre-class vessels.
          </p>

          <h3 id="spectre-founding-docs-aris-thorne-address">
            C. Dr. Aris Thorne's Address to Hephaestus Forge Works (Early 2940)
          </h3>
          <blockquote>
            <p>
              *(Delivered to the assembled, hand-picked personnel of Hephaestus
              Forge Works, deep within the newly operational moon base, early
              2940. The air is thick with the hum of newly activated systems and
              the quiet anticipation of groundbreaking work.)*
            </p>
            <p>
              "Look around you. Look at what we have built. For years, the
              threats have mounted. The Vanduul, relentless and inscrutable.
              Xenothreat, a festering wound in the fabric of our existence.
              Conventional responses, however valiant, have shown their limits.
              We have seen the cost. We have felt the strain.
            </p>
            <p>
              But today... today, we stand in the crucible of a new beginning.
              This isn't just a facility; it is a declaration. This is
              <strong>The Forge</strong>.
            </p>
            <p>
              Each of you was chosen not just for your brilliance, but for your
              courage, your unconventional thinking, and your unwavering
              commitment to a future worth fighting for. You are the minds who
              dare to ask 'what if,' the hands that will build the impossible,
              and the spirits resilient enough to work in the shadows,
              unheralded, for the salvation of countless lives.
            </p>
            <p>
              We are not merely Anvil Aerospace's advanced R&D. We are its
              shield. Its spear. We are the inheritors of a legacy born in the
              shadows of past conflicts – the spirit of the Skunk Works, the
              Phantom Works – where ingenuity was the ultimate weapon, and
              secrecy the ultimate defense. We carry that torch, but we carry it
              into a new era, against enemies unlike any seen before.
            </p>
            <p>
              Here, within these re-engineered walls, we will not just design;
              we will <strong>forge</strong>. We will hammer out solutions from raw
              possibility. We will ignite the fires of innovation and temper
              them with relentless testing. We will build the tools, the ships,
              the countermeasures that will turn the tide.
            </p>
            <p>
              Our work will be unseen. Our victories, often uncelebrated. But
              know this: every circuit we lay, every alloy we perfect, every line
              of code we write, every prototype that takes flight from these
              hidden bays... it is a blow struck for humanity. It is a promise
              kept.
            </p>
            <p>
              This is not a war we can afford to lose. And from this day
              forward, with every spark from The Forge, we will ensure we don't.
              For the future is not merely designed, it is <strong>forged</strong>!"
            </p>
          </blockquote>
        </section>

        <div class="section" id="spectre-specs">
          </div>

        <div class="section" id="spectre-viewer">
          <model-viewer
            id="spectreViewer"
            src="https://ArchKaine.github.io/ship-models/Spectre_Shadow.glb"
            alt="Anvil Spectre Shadow"
            camera-controls
            interaction-prompt="none"
            style="width: 100%; height: 600px; background-color: #15181d;"
          ></model-viewer>
          <div style="margin: 1rem 0; text-align: center; display: flex; justify-content: center; gap: 10px; flex-wrap: wrap;">
            <button class="model-control-btn styled-button" onclick="switchModel('shadow')">Spectre Shadow</button>
            <button class="model-control-btn styled-button" onclick="switchModel('revenant')">Spectre Revenant</button>
            <button class="model-control-btn styled-button" onclick="switchModel('eidolon_shadow')">Eidolon Shadow</button>
          </div>
          <div class="viewer-legend" style="position: relative; margin: -3rem 1rem 1rem 1rem; background: rgba(0,0,0,0.7); padding: 1rem; border-radius: 4px; color: #fff; font-size: 0.9rem; max-width: 220px; z-index: 5;">
            <strong>Controls:</strong>
            <ul style="margin: 0.5rem 0 0 1rem; padding: 0; list-style: disc inside;">
              <li>Rotate: Click &amp; drag</li>
              <li>Zoom: Mouse wheel / pinch or slider</li>
              <li>Pan: Right-click &amp; drag</li>
              <li>Preset Views: Buttons below</li>
              <li>Switch Models: Above</li>
            </ul>
          </div>
          <div style="margin: 1rem 0; text-align: center;">
            <button class="model-control-btn styled-button" onclick="setView('0deg 75deg 7m')">Front</button>
            <button class="model-control-btn styled-button" onclick="setView('180deg 75deg 7m')">Back</button>
            <button class="model-control-btn styled-button" onclick="recenter()">Recenter</button>
          </div>
        </div>

        <div class="section" id="spectre-variants">
          </div>

        <section class="section" id="spectre-stealth-doctrine">
          </section>

        <section class="section" id="spectre-scenarios">
          </section>

        <section class="section" id="spectre-interior">
          </section>

        <section class="section" id="spectre-talent">
          </section>

        <section class="section" id="spectre-comparison">
          </section>

        <section class="section" id="spectre-environment">
          </section>

        <section class="section" id="spectre-testimonials">
          </section>

        <section class="section" id="revenant-acquisition">
          </section>

        <section class="section" id="spectre-conclusion">
          </section>

        <section>
          <div>
            <p align="center">
              My reflection is the following: I did this because it seemed like
              it would be a fun project, and so far it has been.
            </p>
          </div>
        </section>
      </div>

      <aside id="section-aside" class="spectre-post-aside">
        <div class="aside-scroll-wrapper">
          <div class="aside-top-logo">
            <img
              alt="Profile Logo"
              src="https://imagizer.imageshack.com/img924/8747/qCer6W.png"
              onerror="this.onerror=null;this.src='https://placehold.co/180x100/1a1a1a/ff4c4c?text=Profile+Logo';"
              loading="lazy"
              width="180"
              height="100"
            />
          </div>
          <h2>On This Section</h2>
          <ul class="aside-toc"></ul>
          <div class="aside-bio-section">
            <h2 class="aside-bio-heading">Dr. Aris D. Thorne: Visionary</h2>
            <div class="aside-bio-content">
              <p>
                <strong>Dr. Aris David Thorne</strong> (born 2910, Portland, Earth) is
                considered Anvil Aerospace's single most valuable person and
                asset, recognized as <strong>likely the smartest person alive</strong>—the
                Stephen Hawking or Albert Einstein of his era. His academic path
                defied convention, earning <strong>sixteen doctorates</strong> across diverse
                fields from aerospace engineering to cognitive psychology and
                medicine. He excelled by seeing the <strong>interconnectedness of all
                knowledge</strong>, a polymathic approach that revolutionized his studies
                at institutions like Terra's University of Rhetor and Archimedes
                Institute.
              </p>
              <p>
                Thorne's profound understanding of <strong>all forms of technology</strong>
                catapulted Anvil's ships to a tier unmatched by any other Human
                manufacturer. His leadership led to the creation of
                <strong>Hephaestus Forge Works (HFW)</strong>, his equivalent of nuclear
                technology development: a secret division dedicated to forging
                paradigm-shifting military solutions.
              </p>
              <p>
                Despite his monumental intellect, Dr. Thorne is a <strong>humble and
                dedicated leader, well-loved by his staff</strong>. He insists on <strong>full
                disclosure</strong> for all HFW personnel, ensuring they have <strong>all the
                information needed</strong> to assess mission viability. This respect
                fosters an unparalleled familial loyalty. His rescue from
                danger, for instance, wasn't a strategic necessity to protect
                classified information, but a visceral "he's family, get him back
                NOW!" imperative from his devoted teams.
              </p>
              <p>
                His influence extends even to <strong>Aegis Dynamics</strong>. Despite Aegis's
                checkered history and their usual guardedness, their respect for
                Thorne's unparalleled vision and expertise is immense. Debating
                Thorne is akin to "a three-year-old playing chess against a
                Grandmaster"; his mind <strong>runs circles around the smartest in the
                UEE, and potentially even the Xi'an, Tevarin, and Banu</strong>. This
                intellectual gravity, paired with his humility, convinced Aegis to
                share their advanced EW and sensor technology, a testament to his
                singular standing.
              </p>
            </div>
          </div>
        </div>
      </aside>
    </div>

<script>
  // Cache frequently accessed DOM elements
  const asideElement = document.getElementById("section-aside");
  const asideTocList = asideElement ? asideElement.querySelector("ul.aside-toc") : null;
  const mainContentScroller = document.querySelector(".spectre-post-container > .container");
  const spectreNavLinks = document.querySelectorAll('nav a[href^="#"]:not([href="#spectre-top"])');
  const pageSections = Array.from(document.querySelectorAll(".spectre-post-container > .container > .section"));
  const modelViewer = document.getElementById('spectreViewer'); // Added for model viewer functions

  // Model Viewer Data
  const modelBaseURL = "https://ArchKaine.github.io/ship-models/";
  const models = {
      shadow: { src: modelBaseURL + "Spectre_Shadow.glb", alt: "Anvil Spectre Shadow" },
      revenant: { src: modelBaseURL + "Spectre_Revenant.glb", alt: "Anvil Spectre Revenant" },
      eidolon_shadow: { src: modelBaseURL + "Eidolon_Shadow.glb", alt: "Anvil Eidolon Shadow" },
  };

  // 1) Build & update the “On This Section” aside
  function updateAside() {
    if (!asideElement || !asideTocList || !mainContentScroller) return;

    const svgIcon =
      '<svg viewBox="0 0 24 24" width="1em" height="1em" fill="currentColor" ' + // Matched to 1em font size
      'style="vertical-align:-0.1em;margin-right:0.8em;opacity:0.7;">' + // Matched to 0.8rem margin
      '<path d="M10 17l5-5-5-5v10z"></path></svg>';

    const viewportHeight = window.innerHeight;
    const activationOffset = viewportHeight * 0.35; 

    let activeSection = null;
    for (let i = pageSections.length - 1; i >= 0; i--) {
      const sec = pageSections[i];
      const rect = sec.getBoundingClientRect(); 
      if (rect.top < activationOffset && rect.bottom > activationOffset * 0.2) { 
        activeSection = sec;
        break;
      }
    }
    
    if (!activeSection && pageSections.length > 0 && mainContentScroller.scrollTop < 50) {
        activeSection = pageSections[0];
    } else if (mainContentScroller.scrollTop + mainContentScroller.clientHeight >= mainContentScroller.scrollHeight - 50 && pageSections.length) {
        activeSection = pageSections[pageSections.length - 1];
    }

    asideTocList.innerHTML = ""; 

    if (!activeSection) {
      const li = document.createElement("li");
      li.style.padding = "0.5rem 1rem";
      li.style.fontSize = "0.9rem";
      li.style.color = "#777";
      li.textContent = "Scroll to a section.";
      asideTocList.appendChild(li);
      asideElement.style.display = "flex"; 
      return;
    }

    let sourceForHeadings = activeSection;
    if (activeSection.id === "spectre-variants") {
      const activeFamilyContent = activeSection.querySelector(
        ".ship-family-content-wrapper.active-family-content"
      );
      if (activeFamilyContent) {
        sourceForHeadings =
          activeFamilyContent.querySelector(".variant-content.active") ||
          activeFamilyContent;
      }
    }

    const headings = Array.from(
      sourceForHeadings.querySelectorAll("h2, h3, h4")
    );

    if (!headings.length) {
      const li = document.createElement("li");
      li.style.padding = "0.5rem 1rem";
      li.style.fontSize = "0.9rem";
      li.style.color = "#777";
      const sectionTitleElement = activeSection.querySelector('h2'); // Get the h2 of the section
      const sectionTitle = sectionTitleElement ? sectionTitleElement.firstChild.textContent.trim() : 'current section'; // Get text before back-to-top
      li.textContent = `No sub-headings in ${sectionTitle}.`;
      asideTocList.appendChild(li);
      asideElement.style.display = "flex";
      return;
    }

    let anItemWasHighlighted = false;
    headings.forEach((h) => {
      if (!h.id) { 
        h.id = `${activeSection.id}-${h.tagName.toLowerCase()}-${h.textContent
          .trim()
          .toLowerCase()
          .replace(/\s+/g, "-")
          .replace(/[^\w-]+/g, "")}`.replace(/[^a-zA-Z0-9-_]/g, '');
      }
      const a = document.createElement("a");
      a.href = `#${h.id}`;
      // Get only the text content of the heading, excluding child elements like 'back-to-top'
      const headingText = Array.from(h.childNodes).filter(node => node.nodeType === Node.TEXT_NODE).map(node => node.textContent.trim()).join(' ').trim() || h.textContent.trim();
      a.innerHTML = svgIcon + headingText;

      if (h.tagName.toLowerCase() === "h4") {
        a.style.paddingLeft = "1.5rem"; 
      }

      const headingRect = h.getBoundingClientRect();
      if (!anItemWasHighlighted && headingRect.top >= 0 && headingRect.top < activationOffset) {
        a.classList.add("active");
        anItemWasHighlighted = true;
      }

      a.addEventListener("click", (e) => {
        e.preventDefault();
        const targetElement = document.getElementById(h.id);
        if (targetElement && mainContentScroller) {
            const scrollerRect = mainContentScroller.getBoundingClientRect();
            const targetRect = targetElement.getBoundingClientRect();
            const scrollToPosition = targetRect.top - scrollerRect.top + mainContentScroller.scrollTop - (window.innerHeight * 0.1);
            
            mainContentScroller.scrollTo({
                top: Math.max(0, scrollToPosition), 
                behavior: "smooth",
            });
        }
        asideTocList.querySelectorAll("a").forEach((link) => link.classList.remove("active"));
        a.classList.add("active");
      });
      const li = document.createElement("li");
      li.appendChild(a);
      asideTocList.appendChild(li);
    });

    if (!anItemWasHighlighted && window.location.hash) {
        const activeLinkByHash = asideTocList.querySelector(`a[href="${window.location.hash}"]`);
        if (activeLinkByHash) {
            asideTocList.querySelectorAll("a").forEach(link => link.classList.remove("active"));
            activeLinkByHash.classList.add("active");
        }
    }
    asideElement.style.display = "flex";
  }
  window.updateAside = updateAside;

  function handleSpectreNavScroll() {
    if (!mainContentScroller) return;
    const sectionsForNav = [];
    spectreNavLinks.forEach(link => {
        const sectionId = link.getAttribute("href");
        if (sectionId && sectionId.startsWith("#")) {
            const sec = document.getElementById(sectionId.substring(1));
            if (sec) sectionsForNav.push(sec);
        }
    });

    let currentNavId = "";
    const navActivationOffset = window.innerHeight * 0.4; 

    for (let i = sectionsForNav.length - 1; i >= 0; i--) {
      const sec = sectionsForNav[i];
      const rect = sec.getBoundingClientRect();
      if (rect.top < navActivationOffset && rect.bottom > navActivationOffset * 0.2 ) { 
        currentNavId = sec.id;
        break;
      }
    }
    if (!currentNavId && sectionsForNav.length > 0 && mainContentScroller.scrollTop < 50) {
         currentNavId = sectionsForNav[0].id;
    } else if (mainContentScroller.scrollTop + mainContentScroller.clientHeight >= mainContentScroller.scrollHeight - 50 && sectionsForNav.length) {
        currentNavId = sectionsForNav[sectionsForNav.length - 1].id;
    }

    spectreNavLinks.forEach((link) => {
      link.classList.toggle(
        "nav-active",
        link.getAttribute("href") === `#${currentNavId}`
      );
    });
  }

  function showFamily(familyIdSuffix, btnEl) {
    document.querySelectorAll(".ship-family-content-wrapper").forEach(function (wrapper) {
        wrapper.style.display = "none";
        wrapper.classList.remove("active-family-content");
    });
    document.querySelectorAll(".ship-family-tabs button.family-tab").forEach(function (tab) {
        tab.classList.remove("active-family");
    });

    const contentToShow = document.getElementById("content-family-" + familyIdSuffix);
    if (contentToShow) {
        contentToShow.style.display = "block";
        contentToShow.classList.add("active-family-content");
    }
    if (btnEl) {
        btnEl.classList.add("active-family");
    }

    if (contentToShow) {
        const firstVariantButton = contentToShow.querySelector(".variant-tabs button");
        if (firstVariantButton) {
            const clickEvent = firstVariantButton.getAttribute('onclick');
            if (clickEvent) {
                const matches = clickEvent.match(/'([^']+)'/g);
                if (matches && matches.length >= 2) { // Ensure at least two parameters
                    const variantId = matches[0].replace(/'/g, '');
                    const familyIdFromClick = matches[1].replace(/'/g, ''); // Ensure this is the family ID
                     showVariantContent(variantId, firstVariantButton, familyIdFromClick);
                } else if (matches && matches.length === 1) { // Fallback if only one param in onclick
                    const variantId = matches[0].replace(/'/g, '');
                    showVariantContent(variantId, firstVariantButton, familyIdSuffix); // Use passed familyIdSuffix
                }
            }
        } else { 
             updateAside();
        }
    } else {
        updateAside(); 
    }
  }
  window.showFamily = showFamily;

  function showVariantContent(variantId, btnEl, familyId) { 
      const familyContentWrapper = document.getElementById('content-family-' + familyId);
      if (!familyContentWrapper) return;

      familyContentWrapper.querySelectorAll(".variant-content").forEach(function (content) {
          content.style.display = "none";
          content.classList.remove("active");
      });
      familyContentWrapper.querySelectorAll(".variant-tabs button").forEach(function (tab) {
          tab.classList.remove("active");
      });

      const contentToShow = document.getElementById(variantId);
      if (contentToShow) {
          contentToShow.style.display = "block";
          contentToShow.classList.add("active");
      }
      if (btnEl) {
          btnEl.classList.add("active");
      }
      updateAside(); 
  }
  window.showVariantContent = showVariantContent;

  function switchModel(modelKey) {
      if (modelViewer && models[modelKey]) {
          modelViewer.src = models[modelKey].src;
          modelViewer.alt = models[modelKey].alt;
      }
  }
  function setView(orbitString) {
      if (modelViewer) modelViewer.cameraOrbit = orbitString;
  }
  function recenter() {
      if (modelViewer) {
          modelViewer.cameraTarget = "auto auto auto";
          modelViewer.cameraOrbit = "0deg 75deg 7m"; 
      }
  }
  window.switchModel = switchModel;
  window.setView = setView;
  window.recenter = recenter;

  function initPageListeners() {
    const scrollOptions = { passive: true }; 
    if (mainContentScroller) {
        mainContentScroller.addEventListener("scroll", handleSpectreNavScroll, scrollOptions);
        mainContentScroller.addEventListener("scroll", updateAside, scrollOptions);
    } else {
        window.addEventListener("scroll", handleSpectreNavScroll, scrollOptions);
        window.addEventListener("scroll", updateAside, scrollOptions);
    }
    window.addEventListener("hashchange", updateAside); 
    window.addEventListener("resize", updateAside, scrollOptions); 

    const firstFamilyButton = document.querySelector(".ship-family-tabs button.family-tab");
    if (firstFamilyButton) {
         const clickEvent = firstFamilyButton.getAttribute('onclick');
         if (clickEvent) {
            const familyIdSuffixMatch = clickEvent.match(/'([^']+)'/);
            if (familyIdSuffixMatch && familyIdSuffixMatch[1]) {
                showFamily(familyIdSuffixMatch[1], firstFamilyButton);
            }
         }
    } else { 
        updateAside();
        handleSpectreNavScroll();
    }
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPageListeners);
  } else {
    initPageListeners();
  }

  window.addEventListener("load", () => {
      updateAside();
      handleSpectreNavScroll(); 
  } , { passive: true });
</script>

  </body>
</html>
