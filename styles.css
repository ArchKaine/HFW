/* --- Base Styles (Mobile First) --- */
* {
  box-sizing: border-box;
}
html {
  scroll-behavior: smooth;
}

body {
  margin: 0; /* MODIFIED: Removed all specific margins */
  padding: 0; /* MODIFIED: Ensured no padding */
  font-family: "Segoe UI", "Roboto", "Helvetica Neue", sans-serif; /* Original from .spectre-post-container */
  background-color: #0b0e13; /* Original from .spectre-post-container */
  color: #f0f0f0; /* Original from .spectre-post-container */
}

.spectre-post-container {
  /*
    MODIFIED: Most layout properties (display: grid, grid-template-*, height, gap)
    are now controlled by the INLINE <style> block in index.html.
    External margins (margin-left, margin-right for desktop) should be REMOVED below
    in the media query.
  */
  font-family: "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;
  background-color: #0b0e13;
  color: #f0f0f0;
  font-size: 18px;
  line-height: 1.6;
  transition: margin-left 0.3s ease, margin-right 0.3s ease; /* This transition might be irrelevant now */
}
.spectre-post-container header {
  background-color: #1a1a1a;
  padding: 1rem 2rem;
  text-align: center;
  border-bottom: 1px solid #2a2a2a;
  /* Grid area is set inline */
}
.spectre-post-container header h1 {
  color: #ff4c4c;
  font-family: "Orbitron", sans-serif;
  margin: 0;
  font-size: 2.5rem;
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
}

/* --- Main Navigation (Sidebar on Desktop) Styles --- */
.spectre-post-container nav {
  /* Mobile First: Top Bar (Styles here apply before desktop media query) */
  position: static; /* MODIFIED: Default to static */
  width: auto;
  height: auto;
  transform: none;
  z-index: 1001; /* May still be useful for stacking if overlaps occur on small screens */
  display: flex;
  flex-direction: column;
  flex-wrap: nowrap;
  justify-content: center;
  background: #111;
  border-right: none;
  border-bottom: 2px solid #ff4c4c;
  /* padding: 0.5rem 0; MODIFIED: Padding now on .nav-scroll-wrapper */
  border-radius: 0;
  box-shadow: none;
  margin-bottom: 1.5rem;
  /* Grid area is set inline */
  /* overflow-y: auto; MODIFIED: Removed, handled by inner wrapper */
}

/* Styling for the inner scroll wrapper if needed, base padding is in inline style */
.nav-scroll-wrapper {
  /* Example: if you need specific padding different from inline default */
  /* padding: 1.5rem 1rem; */
}

.spectre-post-container nav a {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  width: auto; /* Will be 100% in desktop via media query */
  padding: 0.8rem 1rem; /* Padding for mobile links */
  color: #ffaaaa;
  text-decoration: none;
  text-transform: uppercase;
  font-size: 1rem;
  font-family: "Orbitron", sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease,
    transform 0.2s ease-out, box-shadow 0.2s ease-out,
    font-weight 0.2s ease;
  border: 1px solid transparent;
  font-weight: normal;
}
.spectre-post-container nav a svg {
  width: 1em;
  height: 1em;
  fill: currentColor;
  vertical-align: middle;
  flex-shrink: 0;
}
.spectre-post-container nav a:hover {
  background-color: #ff4c4c;
  color: #fff;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  border-color: #ff4c4c;
}
.spectre-post-container nav a.nav-active {
  background-color: #3a3a3a;
  color: #ffffff;
  font-weight: bold;
  box-shadow: inset 2px 0 4px rgba(0, 0, 0, 0.4);
}
.spectre-post-container nav a.nav-active:hover {
  background-color: #444;
  color: #fff;
  transform: translateY(-1px);
}
.spectre-post-container .nav-logo {
  padding: 0.5rem 1rem;
  text-align: center;
  flex-basis: 100%; /* Mobile */
  order: 0;
}
.spectre-post-container .nav-logo-top {
  order: -1; /* Mobile */
  padding-bottom: 0.5rem;
  border-bottom: 1px solid #333;
  margin-bottom: 0.5rem;
}
.spectre-post-container .nav-logo img {
  max-width: 400px;
  max-height: 200px;
  height: auto;
  display: inline-block;
  vertical-align: middle;
}

/* --- Right-hand “On This Section” Aside --- */
.spectre-post-aside {
  /* MODIFIED: position: fixed, right, top, bottom, width are REMOVED or handled by inline grid/sticky styles */
  /* MODIFIED: overflow-y: auto REMOVED, handled by .aside-scroll-wrapper */
  /* width: 100%; MODIFIED: Let grid column define width, or set to 100% to fill grid cell */
  background: #111;
  border: none;
  border-left: 2px solid #ff4c4c;
  border-radius: 0;
  /* padding: 0; MODIFIED: Padding now on .aside-scroll-wrapper */
  font-family: "Orbitron", sans-serif;
  color: #ffaaaa;
  z-index: 1000; /* May still be useful if other content could overlap */
  box-shadow: -2px 0 10px rgba(0, 0, 0, 0.4);
  display: flex;
  flex-direction: column;
  /* Grid area and sticky positioning are set inline */
}

/* Styling for the inner scroll wrapper, base padding is in inline style */
.aside-scroll-wrapper {
   /* Example: if you need specific padding different from inline default */
   /* padding: 1rem; */
}

.aside-top-logo {
  padding: 1rem;
  text-align: center;
  border-bottom: 1px solid #333;
  margin-bottom: 0;
  flex-shrink: 0;
}
.aside-top-logo img {
  max-width: 180px;
  max-height: 100px;
  height: auto;
  display: inline-block;
}
.spectre-post-aside h2 { /* This is "On This Section" and "Dr. Aris Thorne" titles */
  font-size: 1.1rem;
  color: #ff4c4c;
  text-transform: uppercase;
  margin: 0;
  padding: 1rem 1rem 0.5rem 1rem; /* Padding specific to these H2s inside aside */
  border-bottom: 1px solid #333;
  flex-shrink: 0;
}
.spectre-post-aside ul.aside-toc { /* Targeting the TOC list specifically */
  list-style: none;
  padding: 0.5rem 0 1rem 0; /* Adjusted padding, links will have their own */
  margin: 0;
  flex-grow: 1;
  /*
    MODIFIED: overflow-y: auto; This was on the ul, but now the parent .aside-scroll-wrapper handles scroll.
    If ul itself needs to scroll independently inside the wrapper (unlikely for TOC), this could be added back.
  */
  flex-shrink: 1; /* Allow shrinking if bio section is large */
}
.spectre-post-aside li { /* Applies to TOC list items */
  margin: 0.1rem 0;
}
.spectre-post-aside ul.aside-toc a { /* TOC links */
  color: #ffaaaa;
  text-decoration: none;
  font-size: 0.9rem;
  font-family: "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;
  text-transform: none;
  display: flex; /* Using flex for icon alignment */
  align-items: center;
  padding: 0.5rem 1rem; /* Padding for each TOC link item */
  border-radius: 4px;
  transition: background-color 0.3s ease, color 0.3s ease,
    border-left-color 0.3s ease;
  border-left: 3px solid transparent;
}
.spectre-post-aside ul.aside-toc a svg { /* Icon within TOC links */
  width: 0.8em;
  height: 0.8em;
  fill: currentColor;
  margin-right: 0.6em;
  opacity: 0.7;
  transition: opacity 0.3s ease;
  flex-shrink: 0;
}
.spectre-post-aside ul.aside-toc a:hover {
  background-color: #2a2a2a;
  color: #fff;
}
.spectre-post-aside ul.aside-toc a:hover svg {
  opacity: 1;
}
.spectre-post-aside ul.aside-toc a.active { /* Active TOC link */
  background-color: #333;
  color: #ffffff;
  font-weight: bold;
  border-left-color: #ff4c4c;
}
.spectre-post-aside ul.aside-toc a.active svg {
  opacity: 1;
  color: #ff4c4c;
}

/* Styles for Dr. Thorne's biography section in the aside */
.aside-bio-section {
  padding: 1rem;
  border-top: 1px solid #333;
  margin-top: 1rem; /* This margin will be inside the .aside-scroll-wrapper's padding */
  flex-shrink: 0;
  color: #f0f0f0;
  font-size: 0.85rem;
  line-height: 1.5;
  background-color: rgba(255, 76, 76, 0.05);
  border-radius: 0 0 5px 5px; /* This might be cut off if .aside-scroll-wrapper has hard padding */
}
.aside-bio-heading { /* This targets the h2 *inside* .aside-bio-section */
  font-size: 1rem !important; /* Use !important if it conflicts with general aside h2 */
  color: #ff8c8c !important;
  text-transform: uppercase;
  margin: 0 0 0.5rem 0 !important;
  padding: 0 0 0.3rem 0 !important; /* Override general aside h2 padding */
  border-bottom: 1px dashed #444 !important;
  font-family: "Orbitron", sans-serif;
}
.aside-bio-content {
  max-height: 30vh; /* Independently scrollable bio text if it's long */
  overflow-y: auto;
  padding-right: 0.5rem; /* For scrollbar clearance */
  scrollbar-width: thin;
  scrollbar-color: #ff4c4c #111;
}
.aside-bio-content::-webkit-scrollbar {
  width: 6px;
}
.aside-bio-content::-webkit-scrollbar-track {
  background: #1a1a1a;
}
.aside-bio-content::-webkit-scrollbar-thumb {
  background-color: #ff4c4c;
  border-radius: 3px;
  border: 1px solid #0b0e13;
}


@media (min-width: 992px) {
  .spectre-post-container {
    /*
      MODIFIED: margin-left and margin-right REMOVED.
      Grid handles column spacing.
      padding is still relevant for the overall container if not using grid gap effectively
      or if header/footer inside need it.
      The inline style has `gap: 1rem;`.
      The content area (.container grid item) gets its own padding now from inline styles.
    */
    padding: 1.5rem 0; /* Example: Vertical padding for the whole grid container, if needed. Was 1.5rem 2rem */
  }

  .spectre-post-container nav {
    /*
      MODIFIED: position: fixed, left, top, bottom, overflow-y: auto ARE REMOVED.
      Sticky positioning and scrolling are handled by inline styles and .nav-scroll-wrapper.
    */
    width: 100%; /* Let it fill the 300px grid column defined inline */
    border-bottom: none; /* Was already here, good */
    /* padding: 1.5rem 0; MODIFIED: Moved to .nav-scroll-wrapper or handled by its inline padding */
    margin-bottom: 0; /* Was already here, good */
    /* Retain flex properties if they still apply to direct children of nav before the wrapper */
    display: block; /* Let the .nav-scroll-wrapper handle flex if needed for its children */
  }

  .nav-scroll-wrapper { /* Desktop specific padding for nav wrapper if different */
      /* padding: 1.5rem 0; /* If you want the original desktop nav padding */
  }

  .spectre-post-container nav a {
    width: 100%; /* Make each link take the full width of the nav container */
    box-sizing: border-box;
    white-space: nowrap;
    padding: 0.8rem 1.5rem; /* Desktop padding for nav links */
    margin: 0;
    /* border-bottom: 1px solid #222; /* Optional separator */
  }

  .spectre-post-container nav a:hover {
    /* transform: translateX(3px) translateY(-1px); Minor adjustments if needed */
  }
  .spectre-post-container nav a.nav-active {
    background-color: #333;
    box-shadow: inset 3px 0 5px rgba(0, 0, 0, 0.5);
  }
  .spectre-post-container nav a.nav-active:hover {
    background-color: #444;
  }
  .spectre-post-container .nav-logo {
    flex-basis: auto; /* Desktop */
    padding: 1rem; /* Desktop */
  }
  .spectre-post-container .nav-logo-top {
    margin-bottom: 1rem; /* Desktop */
    border-bottom: none; /* Desktop */
  }

  /* .spectre-post-aside doesn't need much here if base styles + inline grid/sticky are correct */
}

/* --- General Content Styles --- */
.spectre-post-container .container {
  /*
    MODIFIED: This is now a grid item (grid-area: content).
    Its max-width, margin: auto are less relevant if it's taking up 1fr.
    Padding is now set in inline styles.
    overflow-y: auto and min-height: 0 are set in inline styles.
  */
  /* max-width: 1280px; /* Can be kept if content itself should be constrained within the 1fr column */
  /* margin-left: auto; */
  /* margin-right: auto; */
  /* padding: 0; /* inline style sets horizontal padding */
}

@media (min-width: 992px) {
  .spectre-post-container .container {
    /* max-width: none; /* From original, allows it to fill the 1fr space */
    /* margin: 0; /* From original */
    /* padding: 0; /* From original, inline style sets padding */
  }
}


.spectre-post-container h2 {
  font-size: 1.8rem;
  color: #ff4c4c;
  text-transform: uppercase;
  font-family: "Orbitron", sans-serif;
  border-bottom: 1px solid #444;
  padding-bottom: 0.5rem;
  margin-top: 2rem;
  margin-bottom: 1.5rem;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}
.spectre-post-container h3 {
  font-size: 1.4rem;
  color: #ff8c8c;
  text-transform: uppercase;
  font-family: "Orbitron", sans-serif;
  border-bottom: 1px solid #333;
  padding-bottom: 0.3rem;
  margin-top: 1.5rem;
  margin-bottom: 1rem;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}
.spectre-post-container h4 {
  font-size: 1.2rem;
  color: #ffaaaa;
  font-family: "Orbitron", sans-serif;
  margin-top: 1.2rem;
  margin-bottom: 0.8rem;
}
/* First child H2/H3 margin removal might need to be more specific if .container now has padding */
.spectre-post-container .section > h2:first-child,
.spectre-post-container .section > h3:first-child {
  margin-top: 0;
}
.spectre-post-container p {
  margin-bottom: 1.2rem;
}
.scenario-narrative {
  background-color: rgba(20, 20, 25, 0.5);
  padding: 1.5rem;
  border-left: 3px solid #ff4c4c;
  margin-bottom: 1.5rem;
  border-radius: 0 5px 5px 0;
}
.scenario-narrative p {
  margin-bottom: 0.8rem;
  text-indent: 1.5em;
}
.scenario-narrative p:first-of-type {
  text-indent: 0;
}
.scenario-narrative h3 + p {
  text-indent: 0;
}
.scenario-narrative h4 {
  font-size: 1.1rem;
  color: #ff6a6a;
  text-transform: none;
  border-bottom: 1px dashed #555;
  padding-bottom: 0.2rem;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
}
.scenario-narrative strong {
  color: #ffaaaa;
  font-family: "Orbitron", sans-serif;
}
.spectre-post-container .back-to-top {
  font-size: 14px;
  color: #ffaaaa;
  text-decoration: underline;
  margin-left: 1em;
  text-transform: none;
  font-family: "Segoe UI", "Roboto", "Helvetica Neue", sans-serif;
  vertical-align: middle;
  transition: color 0.3s ease;
}
.spectre-post-container .back-to-top:hover {
  color: #fff;
}

/* --- UNIFIED BUTTON STYLES --- */
.styled-button {
  cursor: pointer;
  font-family: "Orbitron", sans-serif;
  text-transform: uppercase;
  transition: background 0.3s, color 0.3s, border-color 0.3s,
    transform 0.2s ease-out, box-shadow 0.3s ease;
  border-radius: 6px;
  font-weight: bold;
  letter-spacing: 0.5px;
  display: inline-block;
}

.spectre-post-container .ship-family-tabs {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 3px solid #ff4c4c;
}
.spectre-post-container .ship-family-tabs button.family-tab {
  background-color: #1f1f1f;
  border: 1px solid #4a4a4a;
  color: #ff8c8c;
  padding: 0.9rem 1.8rem;
  margin: 0.5rem;
  font-size: 1.1rem;
}
.spectre-post-container .ship-family-tabs button.family-tab:hover {
  border-color: #ff6a6a;
  color: #0b0e13;
  background-color: #ff4c4c;
  transform: translateY(-2px);
  box-shadow: 0 5px 12px rgba(255, 76, 76, 0.3);
}
.spectre-post-container .ship-family-tabs button.family-tab.active-family {
  background: linear-gradient(to bottom, #ff4c4c, #d13b3b);
  color: #ffffff;
  border-color: #c02c2c;
  box-shadow: 0 3px 8px rgba(255, 76, 76, 0.4),
    inset 0 1px 3px rgba(0, 0, 0, 0.2);
  transform: translateY(0px);
}

.ship-family-content-wrapper {
  display: none;
  padding-top: 1rem;
}
.ship-family-content-wrapper.active-family-content {
  display: block;
}

.spectre-post-container .variant-tabs {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 1rem;
}
.spectre-post-container .variant-tabs button {
  background-color: #1a1a1a;
  border: 1px solid #444;
  color: #ffaaaa;
  padding: 0.7rem 1.4rem;
  margin: 0.3rem;
  font-size: 1rem;
}
.spectre-post-container .variant-tabs button:hover {
  border-color: #ff4c4c;
  color: #0b0e13;
  background-color: #ff6a6a;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(255, 106, 106, 0.25);
}
.spectre-post-container .variant-tabs button.active {
  background: linear-gradient(to bottom, #ff6a6a, #ff4c4c);
  color: #0b0e13;
  border-color: #ff4c4c;
  box-shadow: 0 2px 5px rgba(255, 76, 76, 0.3),
    inset 0 1px 2px rgba(0, 0, 0, 0.1);
  transform: translateY(0px);
}

.model-control-btn {
  background-color: #1f1f1f;
  border: 1px solid #383838;
  color: #ffaaaa;
  padding: 0.5rem 1rem;
  margin: 0.2rem;
  font-size: 0.85rem;
  font-weight: normal;
  letter-spacing: 0.2px;
}
.model-control-btn:hover {
  border-color: #ff4c4c;
  color: #fff;
  background-color: #2a2a2a;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.spectre-post-container .variant-content {
  display: none;
  background-color: rgba(30, 30, 30, 0.6);
  padding: 1.5rem;
  border-radius: 5px;
  margin-top: 1rem;
  border: 1px solid #333;
}
.spectre-post-container .variant-content h3 {
  border-bottom: none !important;
  margin-top: 0 !important;
  margin-bottom: 1rem !important;
  color: #ff4c4c;
  font-size: 1.6rem;
}
.spectre-post-container .variant-content h4 {
  font-size: 1.3rem;
  color: #ff8c8c;
  text-transform: uppercase;
  font-family: "Orbitron", sans-serif;
  border-bottom: 1px dotted #444;
  padding-bottom: 0.2rem;
  margin-top: 1.2rem;
  margin-bottom: 0.8rem;
}
.spectre-post-container .variant-content ul {
  list-style: disc;
  padding-left: 25px;
  margin: 1rem 0 0 0;
}
.spectre-post-container .variant-content li {
  margin-bottom: 0.7rem;
  padding-left: 5px;
}
.spectre-post-container .variant-content.active {
  display: block;
}

.spectre-post-container .section {
  background-color: rgba(255, 76, 76, 0.03);
  padding: 2rem;
  border-radius: 8px;
  margin-top: 2.5rem; /* This will apply to sections within .container grid item */
  border: 1px solid #2a2a2a;
  transition: background-color 0.3s ease, border-color 0.3s ease;
}
/* First section within .container might need margin-top adjustment if .container has no top padding */
.spectre-post-container > .container > .section:first-child {
   /* This is now handled by an inline style for initial setup, can be refined here */
   /* margin-top: 0; /* or specific value like 1.5rem */
}

.spectre-post-container table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 1.5rem;
  margin-bottom: 1rem;
  table-layout: fixed;
}
.spectre-post-container th,
.spectre-post-container td {
  padding: 0.5rem 1rem;
  border-bottom: 1px solid #333;
  color: #f0f0f0;
  text-align: left;
  vertical-align: top;
  word-wrap: break-word;
  overflow-wrap: break-word;
}
.spectre-post-container th {
  background-color: #1f1f1f;
  color: #ffaaaa;
  font-family: "Orbitron", sans-serif;
  width: 25%;
  font-size: 0.95rem;
}
.spectre-post-container td {
  width: 75%;
}
.spectre-post-container img:hover {
  transform: scale(1.02);
  transition: transform 0.3s ease;
  box-shadow: 0 0 15px rgba(255, 76, 76, 0.3);
}
.spectre-post-container a img {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  display: block;
  max-width: 100%;
  height: auto;
}
.spectre-post-container .gallery {
  display: flex;
  flex-wrap: nowrap;
  gap: 1rem;
  overflow-x: auto;
  padding: 1rem;
  background-color: rgba(0, 0, 0, 0.3);
  border-radius: 6px;
  border: 1px solid #2a2a2a;
  justify-content: flex-start;
}
.spectre-post-container .gallery img {
  width: auto;
  height: 426px;
  max-height: 426px;
  max-width: 640px;
  flex-shrink: 0;
  border-radius: 6px;
  cursor: pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  border: 1px solid #444;
  object-fit: cover;
}
.spectre-post-container .caption {
  text-align: center;
  font-size: 16px;
  color: #ffaaaa;
  margin-top: 0.5rem;
}
.spectre-post-container details {
  background-color: #1a1a1a;
  border: 1px solid #333;
  border-radius: 5px;
  padding: 0.8rem 1.2rem;
  margin-top: 1rem;
  transition: background-color 0.3s ease;
}
.spectre-post-container details:hover {
  background-color: #222;
}
.spectre-post-container details summary {
  cursor: pointer;
  font-family: "Orbitron", sans-serif;
  color: #ffaaaa;
  outline: none;
  list-style: none;
  display: block;
  padding: 0.3rem 0;
}
.spectre-post-container details summary::-webkit-details-marker {
  display: none;
}
.spectre-post-container details summary h3 {
  margin: 0;
  display: inline;
  color: #ffaaaa;
  border-bottom: none;
  font-size: 1.2rem;
}
.spectre-post-container details summary::before {
  content: "▶";
  display: inline-block;
  color: #ffaaaa;
  font-size: 1rem;
  margin-right: 0.8rem;
  transition: transform 0.2s ease;
  vertical-align: middle;
}
.spectre-post-container details[open] summary::before {
  transform: rotate(90deg);
}
.spectre-post-container details div {
  padding-top: 1rem;
  margin-top: 0.5rem;
  border-top: 1px solid #333;
}
.spectre-post-container blockquote {
  border-left: 4px solid #ff4c4c;
  margin: 1rem 0 0.5rem 0;
  padding: 0.5rem 1.5rem;
  font-style: italic;
  color: #ddd;
  background-color: rgba(255, 76, 76, 0.02);
}
.spectre-post-container blockquote br {
  display: none;
}
.spectre-post-container blockquote + p {
  margin-left: 1.5rem;
  font-size: 15px;
  color: #aaa;
  margin-top: 0.2rem;
  margin-bottom: 1.5rem;
}
.spectre-post-container img:not([src]),
.spectre-post-container img[src=""] {
  display: none;
}

/*
  MODIFIED: This old grid definition block is largely superseded by the inline styles.
  Keep specific child behavior rules if needed and not handled inline.
*/
/* --- Three-column layout under the header (Partially Superseded) --- */
/*
.spectre-post-container {
  display: grid;  -- Controlled by inline <style>
  grid-template-areas: -- Controlled by inline <style>
    "header header header"
    "nav    content aside";
  grid-template-rows: auto 1fr; -- Moved to inline <style>
  grid-template-columns: 300px 1fr 240px; -- Controlled by inline <style> (aside is 300px now)
  height: calc(100vh - 3rem); -- Moved to inline <style>
}
*/

/* hook each direct child into its area -- Controlled by inline <style> */
/*
.spectre-post-container > header        { grid-area: header; }
.spectre-post-container > nav           { grid-area: nav;    overflow-y: auto; } -- overflow now on wrapper
.spectre-post-container > .container    { grid-area: content; overflow-y: auto; } -- overflow is good here
.spectre-post-container > .section      { / * if you wrap your main in .section instead of .container * / }
.spectre-post-aside                     { grid-area: aside;  overflow-y: auto; } -- overflow now on wrapper
*/

/* allow these grid cells to shrink to the row’s height and then scroll */
.spectre-post-container > nav,
.spectre-post-container > .spectre-post-aside { /* MODIFIED: Specific class for aside */
  min-height: 0;      /* Keep: Good for flex/grid children that might shrink */
  /* overflow-y: auto; MODIFIED: REMOVED, handled by inner wrappers for nav/aside */
}
.spectre-post-container > .container {
  min-height: 0;      /* Keep: Good for flex/grid children that might shrink */
  overflow-y: auto;   /* Keep: Main content area scrolls */
}
